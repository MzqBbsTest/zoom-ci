(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d9bb2d6"],{3680:function(t,s,l){t.exports=l.p+"img/logo.e34871a2.png"},8593:function(t,s,l){"use strict";l.d(s,"a",function(){return a}),l.d(s,"b",function(){return n});var e=l("ead3");function a(t){return Object(e["b"])("system/install",t)}function n(){return Object(e["a"])("/system/install_status")}},8774:function(t,s,l){"use strict";var e=l("ccb5"),a=l.n(e);a.a},ccb5:function(t,s,l){},f10e:function(t,s,l){"use strict";l.r(s);var e=function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("div",{staticClass:"app-install"},[t._m(0),l("div",{staticClass:"app-install-inner"},[l("div",{staticClass:"install-container"},[l("el-card",{staticClass:"install-box"},[l("div",{staticClass:"install-title"},[t._v("快速安装")]),l("el-form",{ref:"installFormRef",staticClass:"install-form",attrs:{model:t.installForm,rules:t.installRules,size:"medium","label-position":"right","label-width":"150px"},nativeOn:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.installHandler(s):null}}},[l("el-form-item",{attrs:{prop:"mysql_host",label:"Mysql Host",required:""}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_host,callback:function(s){t.$set(t.installForm,"mysql_host",s)},expression:"installForm.mysql_host"}})],1),l("el-form-item",{attrs:{prop:"mysql_port",label:"Mysql Port",required:""}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_port,callback:function(s){t.$set(t.installForm,"mysql_port",s)},expression:"installForm.mysql_port"}})],1),l("el-form-item",{attrs:{prop:"mysql_username",label:"Mysql Username",required:""}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_username,callback:function(s){t.$set(t.installForm,"mysql_username",s)},expression:"installForm.mysql_username"}})],1),l("el-form-item",{attrs:{prop:"mysql_password",label:"Mysql Password",required:""}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_password,callback:function(s){t.$set(t.installForm,"mysql_password",s)},expression:"installForm.mysql_password"}})],1),l("el-form-item",{attrs:{prop:"mysql_dbname",label:"Mysql Dbname",required:""}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_dbname,callback:function(s){t.$set(t.installForm,"mysql_dbname",s)},expression:"installForm.mysql_dbname"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:t.installHandler}},[t._v(t._s(t.$t("install")))])],1)],1)],1)],1),l("div",{staticClass:"install-cpy"},[t._v("\n      ©️ "+t._s((new Date).getFullYear())+"\n      "),l("a",{attrs:{href:"https://github.com/zoom-ci/zoom-ci/",target:"_blank"}},[t._v("Zoom")]),t._v(".\n      All Rights Reserved. MIT License.\n    ")])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"install-logo",staticStyle:{"text-align":"center","justify-content":"center","margin-top":"10vh"}},[e("img",{staticStyle:{height:"60px"},attrs:{src:l("3680")}})])}],n=(l("cadf"),l("551c"),l("097d"),l("8593")),r=l("1c06"),i={data:function(){return{installLoadding:!1,installForm:{mysql_host:"127.0.0.1",mysql_port:"3306",mysql_username:"zoom",mysql_password:"zoom",mysql_dbname:"zoom"},installRules:{mysql_host:[{required:!0,message:this.$t("please_input_mysql_host"),trigger:"blur"}],mysql_port:[{required:!0,message:this.$t("please_input_mysql_port"),trigger:"blur"}],mysql_username:[{required:!0,message:this.$t("please_input_mysql_username"),trigger:"blur"}],mysql_password:[{required:!0,message:this.$t("please_input_mysql_password"),trigger:"blur"}],mysql_dbname:[{required:!0,message:this.$t("please_input_mysql_dbname"),trigger:"blur"}]}}},computed:{},mounted:function(){this.initInstallStatus()},methods:{initInstallStatus:function(){var t=this;Object(n["b"])().then(function(s){console.log(s),s.is_installed&&t.$router.push({name:"login"})}).catch(function(t){})},installHandler:function(){var t=this;this.$refs.installFormRef.validate(function(s){if(!s)return!1;var l={mysql_host:t.installForm.mysql_host,mysql_port:t.installForm.mysql_port,mysql_username:t.installForm.mysql_username,mysql_password:t.installForm.mysql_password,mysql_dbname:t.installForm.mysql_dbname};Object(n["a"])(l).then(function(s){s.is_installed?(t.$message.success("安装成功"),t.$router.push({name:"login"})):t.$message.error("安装失败")}).catch(function(s){s.code&&s.code==r["a"].CODE_ERR_INSTALL_FAILED&&t.$message.error("安装失败, 错误信息: "+s.message)})})}}},o=i,m=(l("8774"),l("2877")),u=Object(m["a"])(o,e,a,!1,null,null,null);u.options.__file="Install.vue";s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-3d9bb2d6.93390869.js.map