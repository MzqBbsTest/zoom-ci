(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d9bb2d6"],{3680:function(t,s,e){t.exports=e.p+"img/logo.e34871a2.png"},8593:function(t,s,e){"use strict";e.d(s,"a",function(){return a}),e.d(s,"b",function(){return n}),e.d(s,"c",function(){return r});e("cadf"),e("551c"),e("097d");var l=e("ead3");function a(t){return Object(l["b"])("system/install",t)}function n(){return Object(l["a"])("/system/install_status")}function r(){return Object(l["b"])("/system/status")}},8774:function(t,s,e){"use strict";var l=e("ccb5"),a=e.n(l);a.a},ccb5:function(t,s,e){},f10e:function(t,s,e){"use strict";e.r(s);var l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app-install"},[t._m(0),e("div",{staticClass:"app-install-inner"},[e("div",{staticClass:"install-container"},[e("el-card",{staticClass:"install-box"},[e("div",{staticClass:"install-title"},[t._v("快速安装")]),e("el-form",{ref:"installFormRef",staticClass:"install-form",attrs:{model:t.installForm,rules:t.installRules,size:"medium","label-position":"right","label-width":"150px"},nativeOn:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.installHandler(s):null}}},[e("el-form-item",{attrs:{prop:"mysql_host",label:"Mysql Host",required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_host,callback:function(s){t.$set(t.installForm,"mysql_host",s)},expression:"installForm.mysql_host"}})],1),e("el-form-item",{attrs:{prop:"mysql_port",label:"Mysql Port",required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_port,callback:function(s){t.$set(t.installForm,"mysql_port",s)},expression:"installForm.mysql_port"}})],1),e("el-form-item",{attrs:{prop:"mysql_username",label:"Mysql Username",required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_username,callback:function(s){t.$set(t.installForm,"mysql_username",s)},expression:"installForm.mysql_username"}})],1),e("el-form-item",{attrs:{prop:"mysql_password",label:"Mysql Password",required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_password,callback:function(s){t.$set(t.installForm,"mysql_password",s)},expression:"installForm.mysql_password"}})],1),e("el-form-item",{attrs:{prop:"mysql_dbname",label:"Mysql Dbname",required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.installForm.mysql_dbname,callback:function(s){t.$set(t.installForm,"mysql_dbname",s)},expression:"installForm.mysql_dbname"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.installHandler}},[t._v(t._s(t.$t("install")))])],1)],1)],1)],1),e("div",{staticClass:"install-cpy"},[t._v("\n      ©️ "+t._s((new Date).getFullYear())+"\n      "),e("a",{attrs:{href:"https://github.com/zoom-ci/zoom-ci/",target:"_blank"}},[t._v("Zoom")]),t._v(".\n      All Rights Reserved. MIT License.\n    ")])])])},a=[function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("div",{staticClass:"install-logo",staticStyle:{"text-align":"center","justify-content":"center","margin-top":"10vh"}},[l("img",{staticStyle:{height:"60px"},attrs:{src:e("3680")}})])}],n=(e("cadf"),e("551c"),e("097d"),e("8593")),r=e("1c06"),i={data:function(){return{installLoadding:!1,installForm:{mysql_host:"127.0.0.1",mysql_port:"3306",mysql_username:"zoom",mysql_password:"zoom",mysql_dbname:"zoom"},installRules:{mysql_host:[{required:!0,message:this.$t("please_input_mysql_host"),trigger:"blur"}],mysql_port:[{required:!0,message:this.$t("please_input_mysql_port"),trigger:"blur"}],mysql_username:[{required:!0,message:this.$t("please_input_mysql_username"),trigger:"blur"}],mysql_password:[{required:!0,message:this.$t("please_input_mysql_password"),trigger:"blur"}],mysql_dbname:[{required:!0,message:this.$t("please_input_mysql_dbname"),trigger:"blur"}]}}},computed:{},mounted:function(){this.initInstallStatus()},methods:{initInstallStatus:function(){var t=this;Object(n["b"])().then(function(s){s.is_installed&&t.$router.push({name:"login"})}).catch(function(t){})},installHandler:function(){var t=this;this.$refs.installFormRef.validate(function(s){if(!s)return!1;var e={mysql_host:t.installForm.mysql_host,mysql_port:t.installForm.mysql_port,mysql_username:t.installForm.mysql_username,mysql_password:t.installForm.mysql_password,mysql_dbname:t.installForm.mysql_dbname};Object(n["a"])(e).then(function(s){s.is_installed?(t.$message.success("安装成功"),t.$router.push({name:"login"})):t.$message.error("安装失败")}).catch(function(s){s.code&&s.code==r["a"].CODE_ERR_INSTALL_FAILED&&t.$message.error("安装失败, 错误信息: "+s.message)})})}}},o=i,m=(e("8774"),e("2877")),u=Object(m["a"])(o,l,a,!1,null,null,null);u.options.__file="Install.vue";s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-3d9bb2d6.23d5643c.js.map