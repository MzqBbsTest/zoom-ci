(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d9bb2d6"],{3680:function(s,t,e){s.exports=e.p+"img/logo.e34871a2.png"},8593:function(s,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"b",function(){return r}),e.d(t,"c",function(){return n});e("cadf"),e("551c"),e("097d");var l=e("ead3");function a(s){return Object(l["b"])("system/install",s)}function r(){return Object(l["a"])("/system/install_status")}function n(){return Object(l["b"])("/system/status")}},8774:function(s,t,e){"use strict";var l=e("ccb5"),a=e.n(l);a.a},ccb5:function(s,t,e){},f10e:function(s,t,e){"use strict";e.r(t);var l=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"app-install"},[s._m(0),e("div",{staticClass:"app-install-inner"},[e("div",{staticClass:"install-container"},[e("el-card",{staticClass:"install-box"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[s._v(s._s(s.$t("install_title")))]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:s.switchLanguage}},[e("i",{staticClass:"el-icon-sort"}),s._v(s._s(s.$t("language"))+"\n          ")])],1),e("el-form",{ref:"installFormRef",staticClass:"install-form",attrs:{model:s.installForm,rules:s.installRules,size:"medium","label-position":"right","label-width":"150px"},nativeOn:{keyup:function(t){return"button"in t||!s._k(t.keyCode,"enter",13,t.key,"Enter")?s.installHandler(t):null}}},[e("div",{staticClass:"install-title"},[s._v(s._s(s.$t("mysql_config_title")))]),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{span:8,prop:"mysql_host",label:s.$t("mysql_host"),required:""}},[e("el-input",{model:{value:s.installForm.mysql_host,callback:function(t){s.$set(s.installForm,"mysql_host",t)},expression:"installForm.mysql_host"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mysql_port",label:s.$t("mysql_port"),required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:s.installForm.mysql_port,callback:function(t){s.$set(s.installForm,"mysql_port",t)},expression:"installForm.mysql_port"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mysql_username",label:s.$t("mysql_username"),required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:s.installForm.mysql_username,callback:function(t){s.$set(s.installForm,"mysql_username",t)},expression:"installForm.mysql_username"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mysql_password",label:s.$t("mysql_password"),required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:s.installForm.mysql_password,callback:function(t){s.$set(s.installForm,"mysql_password",t)},expression:"installForm.mysql_password"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mysql_dbname",label:s.$t("mysql_dbname"),required:""}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:s.installForm.mysql_dbname,callback:function(t){s.$set(s.installForm,"mysql_dbname",t)},expression:"installForm.mysql_dbname"}})],1)],1),e("el-col",{attrs:{span:24}},[e("div",{staticClass:"install-title"},[s._v(s._s(s.$t("admin_config_title")))])]),e("el-col",{attrs:{span:16}},[e("el-form-item",{attrs:{prop:"user_name",label:s.$t("username"),required:""}},[e("el-input",{model:{value:s.installForm.user_name,callback:function(t){s.$set(s.installForm,"user_name",t)},expression:"installForm.user_name"}})],1)],1),e("el-col",{attrs:{span:16}},[e("el-form-item",{attrs:{prop:"user_password",label:s.$t("password"),required:""}},[e("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:s.installForm.user_password,callback:function(t){s.$set(s.installForm,"user_password",t)},expression:"installForm.user_password"}})],1)],1),e("el-col",{attrs:{span:16}},[e("el-form-item",{attrs:{prop:"user_email",label:s.$t("email"),required:""}},[e("el-input",{model:{value:s.installForm.user_email,callback:function(t){s.$set(s.installForm,"user_email",t)},expression:"installForm.user_email"}})],1)],1),e("el-col",{attrs:{span:16}},[e("el-form-item",[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:s.installHandler}},[s._v(s._s(s.$t("install")))])],1)],1)],1)],1)],1),e("div",{staticClass:"install-cpy"},[s._v("\n      ©️ "+s._s((new Date).getFullYear())+"\n      "),e("a",{attrs:{href:"https://github.com/zoom-ci/zoom-ci/",target:"_blank"}},[s._v("Zoom")]),s._v(".\n      All Rights Reserved. MIT License.\n    ")])])])},a=[function(){var s=this,t=s.$createElement,l=s._self._c||t;return l("div",{staticClass:"install-logo",staticStyle:{"text-align":"center","justify-content":"center","margin-top":"10vh"}},[l("img",{staticStyle:{height:"60px"},attrs:{src:e("3680")}})])}],r=e("8593"),n=e("1c06"),i=e("f1ed"),o={data:function(){return{installLoadding:!1,installForm:{user_name:"",user_password:"",user_email:"",mysql_host:"127.0.0.1",mysql_port:"3306",mysql_username:"",mysql_password:"",mysql_dbname:""},installRules:{user_name:[{required:!0,message:this.$t("please_input_userame"),trigger:"blur"}],user_email:[{required:!0,message:this.$t("please_input_useremail"),trigger:"blur"}],user_password:[{required:!0,message:this.$t("please_input_password"),trigger:"blur"},{min:6,max:20,message:this.$t("strlen_between",{min:6,max:20}),trigger:"blur"}],mysql_host:[{required:!0,message:this.$t("please_input_mysql_host"),trigger:"blur"}],mysql_port:[{required:!0,message:this.$t("please_input_mysql_port"),trigger:"blur"}],mysql_username:[{required:!0,message:this.$t("please_input_mysql_username"),trigger:"blur"}],mysql_password:[{required:!0,message:this.$t("please_input_mysql_password"),trigger:"blur"}],mysql_dbname:[{required:!0,message:this.$t("please_input_mysql_dbname"),trigger:"blur"}]}}},computed:{},mounted:function(){this.initInstallStatus()},methods:{switchLanguage:function(){i["a"].switchLanguage()},initInstallStatus:function(){var s=this;Object(r["b"])().then(function(t){t.is_installed&&s.$router.push({name:"login"})}).catch(function(s){})},installHandler:function(){var s=this;this.$refs.installFormRef.validate(function(t){if(!t)return!1;var e={user_name:s.installForm.user_name,user_password:s.$root.Md5Sum(s.installForm.user_password),user_email:s.installForm.user_email,mysql_host:s.installForm.mysql_host,mysql_port:s.installForm.mysql_port,mysql_username:s.installForm.mysql_username,mysql_password:s.installForm.mysql_password,mysql_dbname:s.installForm.mysql_dbname};Object(r["a"])(e).then(function(t){t.is_installed?(s.$message.success("安装成功"),s.$router.push({name:"login"})):s.$message.error("安装失败")}).catch(function(t){t.code&&t.code==n["a"].CODE_ERR_INSTALL_FAILED&&s.$message.error("安装失败, 错误信息: "+t.message)})})}}},m=o,u=(e("8774"),e("2877")),c=Object(u["a"])(m,l,a,!1,null,null,null);c.options.__file="Install.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-3d9bb2d6.d54c472b.js.map