{"version":3,"sources":["webpack:///./src/view/Login.vue?f679","webpack:///./src/asset/logo.png","webpack:///./src/api/login.js","webpack:///./src/api/system.js","webpack:///./src/view/Login.vue?06bd","webpack:///src/view/Login.vue","webpack:///./src/view/Login.vue?368a","webpack:///./src/view/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","p","d","__webpack_exports__","loginApi","loginStatusApi","logoutApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","get","installApi","installStatusApi","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","$t","ref","attrs","model","loginForm","rules","loginRules","size","nativeOn","keyup","$event","_k","keyCode","key","loginHandler","prop","placeholder","prefix-icon","autocomplete","value","callback","$$v","$set","expression","type","staticStyle","width","on","click","Date","getFullYear","href","target","staticRenderFns","text-align","justify-content","margin-top","height","src","Loginvue_type_script_lang_js_","loginLoadding","username","password","required","message","trigger","min","max","computed","mounted","initInstallStatus","console","log","methods","_this","Object","system","then","res","is_installed","$router","push","name","catch","err","_this2","$refs","loginFormRef","validate","valid","postData","$root","Md5Sum","login","SetLoginToken","token","code","CODE_ERR_LOGIN_FAILED","$message","error","view_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-0b8f8bbc.11213e58.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"","module.exports = __webpack_public_path__ + \"img/logo.e34871a2.png\";","import {get, post} from '@/lib/fetch.js'\n\nexport function loginApi(data) {\n    return post('/login', data)\n}\n\nexport function loginStatusApi() {\n    return get(\"/login/status\")\n}\n\nexport function logoutApi() {\n    return post('/logout')\n}","import {get, post} from '@/lib/fetch.js'\n\nexport function installApi(data) {\n    return post('system/install', data)\n}\nexport function installStatusApi() {\n    return get(\"/system/install_status\")\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-login\"},[_vm._m(0),_c('div',{staticClass:\"app-login-inner\"},[_c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.$t('welcome_to_login_zoom')))]),_c('el-form',{ref:\"loginFormRef\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"size\":\"medium\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loginHandler($event)}}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('username_or_email'),\"prefix-icon\":\"iconfont icon-user\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('password'),\"prefix-icon\":\"iconfont icon-lock\",\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loginHandler}},[_vm._v(_vm._s(_vm.$t('login')))])],1)],1)],1)],1),_c('div',{staticClass:\"login-cpy\"},[_vm._v(\"\\n            ©️ \"+_vm._s(new Date().getFullYear())+\" \"),_c('a',{attrs:{\"href\":\"https://github.com/zoom-ci/zoom-ci/\",\"target\":\"_blank\"}},[_vm._v(\"Zoom\")]),_vm._v(\". All Rights Reserved. MIT License.\\n        \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-logo\",staticStyle:{\"text-align\":\"center\",\"justify-content\":\"center\",\"margin-top\":\"20vh\"}},[_c('img',{staticStyle:{\"height\":\"60px\"},attrs:{\"src\":require(\"../asset/logo.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-login\">\n        <div class=\"login-logo\" style=\"text-align:center;justify-content: center;margin-top:20vh;\"><img style=\"height:60px;\" src=\"../asset/logo.png\"></div>\n        <div class=\"app-login-inner\">\n            <div class=\"login-container\">\n                <el-card class=\"login-box\">\n                    <div class=\"login-title\">{{ $t('welcome_to_login_zoom') }}</div>\n                    <el-form @keyup.enter.native=\"loginHandler\" ref=\"loginFormRef\" :model=\"loginForm\" :rules=\"loginRules\" size=\"medium\" class=\"login-form\">\n                        <el-form-item prop=\"username\">\n                            <el-input :placeholder=\"$t('username_or_email')\" prefix-icon=\"iconfont icon-user\" v-model=\"loginForm.username\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item prop=\"password\">\n                            <el-input :placeholder=\"$t('password')\" prefix-icon=\"iconfont icon-lock\" type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button @click=\"loginHandler\" type=\"primary\" style=\"width: 100%;\">{{ $t('login') }}</el-button>\n                        </el-form-item>\n                    </el-form>\n                </el-card>\n            </div>\n            <div class=\"login-cpy\">\n                ©️ {{ new Date().getFullYear() }} <a href=\"https://github.com/zoom-ci/zoom-ci/\" target=\"_blank\">Zoom</a>. All Rights Reserved. MIT License.\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { loginApi } from '@/api/login'\nimport { installStatusApi } from '@/api/system'\nimport Code from '@/lib/code'\nexport default {\n    data () {\n        return {\n            loginLoadding: false,\n            loginForm: {\n                username: \"\",\n                password: \"\",\n            },\n            loginRules: {\n                username: [{ required: true, message: this.$t('please_input_loginname'), trigger: 'blur' }],\n                password: [\n                    { required: true, message: this.$t('please_input_password'), trigger: 'blur' },\n                    { min: 6, max: 20, message: this.$t('strlen_between', {min: 6, max: 20}), trigger: 'blur' },\n                ],\n            },\n        }\n    },\n    computed: {\n        \n    },\n    mounted() {\n        this.initInstallStatus()\n        console.log(\"xxxxx\")\n    },\n    methods: {\n        initInstallStatus() {\n            let self = this;\n            installStatusApi().then(res => {\n                console.log(res)\n                if (!res.is_installed) {\n                    this.$router.push({name: 'install'})\n                }\n            }).catch(err => {\n                this.$router.push({name: 'install'})\n            })\n        },\n        loginHandler() {\n            this.$refs.loginFormRef.validate((valid) => {\n                if (!valid) {\n                    return false\n                }\n                let postData = {\n                    username: this.loginForm.username,\n                    password: this.$root.Md5Sum(this.loginForm.password),\n                }\n                loginApi(postData).then(res => {\n                    this.$root.SetLoginToken(res.token)\n                    this.$router.push({name: 'dashboard'})\n                }).catch(err => {\n                    if (err.code && err.code == Code.CODE_ERR_LOGIN_FAILED) {\n                        this.$message.error('登录失败, 错误信息: ' + err.message);\n                    }\n                })\n            });\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scope>\n.app-login {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    overflow: auto;\n    min-height: 100%;\n    background: #f0f2f5 url(../asset/background.svg) no-repeat 50%;\n    background-size: 100%;\n    .login-container {\n        display: flex;\n        justify-content: center;\n        .login-box {\n            margin-top: 5vh;\n            width: 30vw;\n            .login-title {\n                font-weight: 500;\n                text-align: center;\n                font-size: 14px;\n                margin-bottom: 20px;\n            }\n        }\n    }\n    .login-cpy {\n        display: flex;\n        justify-content: center;\n        margin-top: 30px;\n        color: #fff;\n        a {\n            margin: 0 5px;\n            color: #fff;\n        }\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3d696916&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}